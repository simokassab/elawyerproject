/**General**/
(function(){
if(!document.getElementsByClassName){
	document.getElementsByClassName = function(classs){
		var elements = document.all;
		var temps = [];
		var w = 0;
		for(x in elements){
			if(elements[x].className){
				var elementClass = elements[x].className;
				elementClass = elementClass.split(' ');
				for(y in elementClass){
					if(elementClass[y] == classs){
						temps[w] = elements[x];
						w++;
					}
				}
			}
		}
		return temps;
	}
}
})()



function openit1() {
document.getElementById('light1').style.display='block';document.getElementById('fade1').style.display='block';
}
function closeit1() {
document.getElementById('light1').style.display='none';document.getElementById('fade1').style.display='none';
}



function openit2() {
document.getElementById('light2').style.display='block';document.getElementById('fade2').style.display='block';
}
function closeit2() {
document.getElementById('light2').style.display='none';document.getElementById('fade2').style.display='none';
}



function openit3() {
document.getElementById('light3').style.display='block';document.getElementById('fade3').style.display='block';
}
function closeit3() {
document.getElementById('light3').style.display='none';document.getElementById('fade3').style.display='none';
}



function openit4() {
document.getElementById('light4').style.display='block';document.getElementById('fade4').style.display='block';
}
function closeit4() {
document.getElementById('light4').style.display='none';document.getElementById('fade4').style.display='none';
}



function openit5() {
document.getElementById('light5').style.display='block';document.getElementById('fade5').style.display='block';
}
function closeit5() {
document.getElementById('light5').style.display='none';document.getElementById('fade5').style.display='none';
}



function openit6() {
document.getElementById('light6').style.display='block';document.getElementById('fade6').style.display='block';
}
function closeit6() {
document.getElementById('light6').style.display='none';document.getElementById('fade6').style.display='none';
}



function openit7() {
document.getElementById('light7').style.display='block';document.getElementById('fade7').style.display='block';
}
function closeit7() {
document.getElementById('light7').style.display='none';document.getElementById('fade7').style.display='none';
}




function openit8() {
document.getElementById('light8').style.display='block';document.getElementById('fade8').style.display='block';
}
function closeit8() {
document.getElementById('light8').style.display='none';document.getElementById('fade8').style.display='none';
}




function openit9() {
document.getElementById('light9').style.display='block';document.getElementById('fade9').style.display='block';
}
function closeit9() {
document.getElementById('light9').style.display='none';document.getElementById('fade9').style.display='none';
}




function openit10() {
document.getElementById('light10').style.display='block';document.getElementById('fade10').style.display='block';
}
function closeit10() {
document.getElementById('light10').style.display='none';document.getElementById('fade10').style.display='none';
}




function openit11() {
document.getElementById('light11').style.display='block';document.getElementById('fade11').style.display='block';
}
function closeit11() {
document.getElementById('light11').style.display='none';document.getElementById('fade11').style.display='none';
}




function openit12() {
document.getElementById('light12').style.display='block';document.getElementById('fade12').style.display='block';
}
function closeit12() {
document.getElementById('light12').style.display='none';document.getElementById('fade12').style.display='none';
}

  
  
function openit13() {
document.getElementById('light13').style.display='block';document.getElementById('fade13').style.display='block';
}
function closeit13() {
document.getElementById('light13').style.display='none';document.getElementById('fade13').style.display='none';
}


function openit14() {
document.getElementById('light14').style.display='block';document.getElementById('fade14').style.display='block';
}
function closeit14() {
document.getElementById('light14').style.display='none';document.getElementById('fade14').style.display='none';
}


function openit15() {
document.getElementById('light15').style.display='block';document.getElementById('fade15').style.display='block';
}
function closeit15() {
document.getElementById('light15').style.display='none';document.getElementById('fade15').style.display='none';
}


function openit16() {
document.getElementById('light16').style.display='block';document.getElementById('fade16').style.display='block';
}
function closeit16() {
document.getElementById('light16').style.display='none';document.getElementById('fade16').style.display='none';
}
  

function openit17() {
document.getElementById('light17').style.display='block';document.getElementById('fade17').style.display='block';
}
function closeit17() {
document.getElementById('light17').style.display='none';document.getElementById('fade17').style.display='none';
}



function openith1() {
document.getElementById('lighth1').style.display='block';document.getElementById('fadeh1').style.display='block';
}
function closeith1() {
document.getElementById('lighth1').style.display='none';document.getElementById('fadeh1').style.display='none';
}


function openith2() {
document.getElementById('lighth2').style.display='block';document.getElementById('fadeh2').style.display='block';
}
function closeith2() {
document.getElementById('lighth2').style.display='none';document.getElementById('fadeh2').style.display='none';
}


function openith3() {
document.getElementById('lighth3').style.display='block';document.getElementById('fadeh3').style.display='block';
}
function closeith3() {
document.getElementById('lighth3').style.display='none';document.getElementById('fadeh3').style.display='none';
}


function openith4() {
document.getElementById('lighth4').style.display='block';document.getElementById('fadeh4').style.display='block';
}
function closeith4() {
document.getElementById('lighth4').style.display='none';document.getElementById('fadeh4').style.display='none';
}


function openith5() {
document.getElementById('lighth5').style.display='block';document.getElementById('fadeh5').style.display='block';
}
function closeith5() {
document.getElementById('lighth5').style.display='none';document.getElementById('fadeh5').style.display='none';
}


function openith6() {
document.getElementById('lighth6').style.display='block';document.getElementById('fadeh6').style.display='block';
}
function closeith6() {
document.getElementById('lighth6').style.display='none';document.getElementById('fadeh6').style.display='none';
}
 

function openith7() {
document.getElementById('lighth7').style.display='block';document.getElementById('fadeh7').style.display='block';
}
function closeith7() {
document.getElementById('lighth7').style.display='none';document.getElementById('fadeh7').style.display='none';
}


function openith8() {
document.getElementById('lighth8').style.display='block';document.getElementById('fadeh8').style.display='block';
}
function closeith8() {
document.getElementById('lighth8').style.display='none';document.getElementById('fadeh8').style.display='none';
}


function openith9() {
document.getElementById('lighth9').style.display='block';document.getElementById('fadeh9').style.display='block';
}
function closeith9() {
document.getElementById('lighth9').style.display='none';document.getElementById('fadeh9').style.display='none';
}


function openith10() {
document.getElementById('lighth10').style.display='block';document.getElementById('fadeh10').style.display='block';
}
function closeith10() {
document.getElementById('lighth10').style.display='none';document.getElementById('fadeh10').style.display='none';
}


function openith11() {
document.getElementById('lighth11').style.display='block';document.getElementById('fadeh11').style.display='block';
}
function closeith11() {
document.getElementById('lighth11').style.display='none';document.getElementById('fadeh11').style.display='none';
}


function openith12() {
document.getElementById('lighth12').style.display='block';document.getElementById('fadeh12').style.display='block';
}
function closeith12() {
document.getElementById('lighth12').style.display='none';document.getElementById('fadeh12').style.display='none';
}



function show(idToShow, classToHide) {
    var classList = document.querySelectorAll('.'+classToHide);
    var thisElem  = document.getElementById(idToShow);
    var wasShown  = (thisElem.style.display == "block");

    var i = -1;
    while (node=classList[++i]) {
        node.style.display ="none";
    };

    if(!wasShown){
        thisElem.style.display = "block";
    }
}






function changeInput(etat,id_langue){
    var form = document.getElementById('autocompleteGlobal');
    if(etat == 'focus'){
        window.completion = 1;
		if(id_langue == 1){
			form.style.width = '523px';
		}
		else{
			form.style.width = '510px';
		}
        form.style.boxShadow = '0 1px 1px #fff inset, 0 1px 3px rgba(0, 0, 0, 0.1)';
        form.style.borderColor = 'aaa';
        form.style.borderRadius = '0';
        form.style.backgroundColor = '#fff';
    }
    else{
        window.completion = 0;
        form.value = '';
		if(id_langue == 1){
			form.style.width = '0px';
		}
		else{
			form.style.width = '80px';
		}
        form.style.boxShadow = '0 1px 1px #fff inset, 0 1px 1px #fff';
        form.style.borderColor = 'ddd';
        form.style.borderRadius = '0';
        form.style.backgroundColor = '#f3f3f3';
    }
}
function getCookie(nom) {
    var oRegex = new RegExp("(?:; )?" + nom + "=([^;]*);?");
    if (oRegex.test(document.cookie)){
        return decodeURIComponent(RegExp["$1"]);
    } 
    else
        return null;
}
function setCookie(nom, valeur){
    var today = new Date(), expires = new Date();
    expires.setTime(today.getTime() + (1*24*60*60*1000));
    document.cookie = nom + "=" + encodeURIComponent(valeur) + ";expires=" + expires.toGMTString();
}

function ouvrir(transition, dossier){
     if(transition == 1){
        document.getElementById('wrapper-full').className = 'container-full-page2';
        document.getElementById('wrapper-gauche').className = 'wrapper-gauche2';
        document.getElementById('wrapper-droite').className = 'wrapper-droite2';
        if(dossier == '1'){
            document.getElementById('wrapper-dossier').className = 'wrapper-content-dossier wrapper-content-dossier2';
            document.getElementById('menu_dossier').className = 'menu-dossier menu-dossier2';
        }
        
        if(getCookie('hide') == 0)
            setCookie('hide', '1');
        else
            setCookie('hide', '0');
    }
    if(getCookie('hide') == 0){
        document.getElementById('wrapper-gauche').style.width = '0';
        document.getElementById('wrapper-droite').style.margin = '0';
        document.getElementById('wrapper-full').style.width = '1000px';
        document.getElementById('fleche').className='close';
        if(dossier == '1'){
            document.getElementById('wrapper-dossier').style.width = '1000px';
            document.getElementById('menu_dossier').style.width = '1000px';
        }
    }
    else{
        document.getElementById('wrapper-gauche').style.width = '210px';
        document.getElementById('wrapper-droite').style.margin = '0 0 0 30px';
        document.getElementById('wrapper-full').style.width = '760px';
        document.getElementById('fleche').className='open';
        if(dossier == '1'){
            document.getElementById('wrapper-dossier').style.width = '760px';
            document.getElementById('menu_dossier').style.width = '760px';
        }
    }
}
            
function pointer(){
    if(this == undefined){
            return this;
    }else{
            return window.event.srcElement;
    }
}

function addEvent(element, action, func){
	if(element.addEventListener){
		element.addEventListener(action, func, false);
	}else if(element.attachEvent){
		element.attachEvent('on'+action, func);
	}
}

function httpRequest(objet)
{
    if(navigator.appName.search("Microsoft") > -1)
    {
        objet = new ActiveXObject("MSXML2.XMLHTTP");
    }
    else
    {
        objet = new XMLHttpRequest();
    }
    return objet;
}

function openChrono()
{
    var xhr = new httpRequest();          
    xhr.open("POST", "./content/chrono/session.php", true);
    xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
    xhr.send("etat=ajout");
    xhr.onreadystatechange = function()
    {
        if (xhr.readyState==4 && xhr.status == 200)
        {
            nb_chrono++;
            testwindow = window.open ("./content/chrono/chrono.php", "chrono"+nb_chrono, config="height=350, width=400, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no");
            testwindow.moveTo((nb_chrono)*50, (nb_chrono)*50);
            testwindow.resizeTo(416,460);
        }
    }
}

function openParrainage()
{
	openPop('popParrainage',630,225);
	$('#popParrainage').dialog('option', 'position','center');
}
/**General**/


/**Buble**/
function getElementPosition(element){
	var coord = [];
	coord['x'] = coord['y'] = 0;
	if (element.offsetParent) {
		coord['x'] = element.offsetLeft
		coord['y'] = element.offsetTop
		while (element = element.offsetParent) {
			coord['x'] += element.offsetLeft
			coord['y'] += element.offsetTop
		}
	}
	return coord;
}
		
function getElementsBuble(tag){
	var tags = document.getElementsByTagName(tag);
	var temp = [];
	var count = 1;
	for(x in tags){
		if(tags[x].getAttribute && tags[x].getAttribute('buble') != null){
			temp[count] = tags[x];
			count++;
		}
	}
	return temp;
}
		
function closeBuble(Time){
	var bubleDiv = document.getElementById('buble');
	bubleDiv.style.display = 'none';
}
		
function displayBuble(element, pWidth, pHeight, elementScroll){
    var bubleDiv;
		if(elementScroll){
			var scroll = elementScroll;
		}else{
			var scroll = null;
		}
		if(document.getElementById('buble') == null){ 
                    
			bubleDiv = document.createElement('h2');
			
			bubleDiv.id = 'buble';
					
			bubleDiv.style.display="none";
			bubleDiv.style.position="absolute";
			bubleDiv.style.right="0px";
			bubleDiv.style.top="0px";
			bubleDiv.style.zIndex="10000";
					
			bubleDiv.style.width="150px";
			bubleDiv.style.overflow="hidden";
					
			var body = document.getElementsByTagName('body');
			body[0].appendChild(bubleDiv);
		}
			
		var height = element.offsetHeight;
		var width = element.offsetWidth;
				
		var coord = getElementPosition(element);
				
		coord['x'] = coord['x']+(width * pWidth);
		coord['y'] = coord['y']+(height * pHeight);
		if(scroll != null){
			if(scroll.scrollTop){
				coord['y'] -= scroll.scrollTop;
			}
		}
                
		bubleDiv = document.getElementById('buble');
		addEvent(bubleDiv, 'mouseout', closeBuble);
				
		bubleDiv.style.left=coord['x']+'px';
		bubleDiv.style.top=coord['y']+'px';
				
		bubleDiv.innerHTML = element.getAttribute('buble');
		bubleDiv.style.display="block";
}
		
function buble(tag, width, height, elementScroll){
   
	var bubles = getElementsBuble(tag);
			
	for(x in bubles){
		addEvent(bubles[x], 'mouseover', function(){ 
                   
			displayBuble(pointer(), width, height, elementScroll);
		});
		
		addEvent(bubles[x], 'mouseout', closeBuble);
	}
}

/**Buble**/
function display_1(){
   if(document.getElementById('F1').className == 'enroule_1'){
        document.getElementById('M1').style.display = 'block';
        document.getElementById('F1').className = 'deroule_1';
    }
    else{
        document.getElementById('M1').style.display = 'none';
        document.getElementById('F1').className = 'enroule_1';
    }
}
function display_2(id){
    if(document.getElementById('F2_'+id).className == 'enroule'){
        document.getElementById('M2_'+id).style.display = 'block';
        document.getElementById('F2_'+id).className = 'deroule';
    }
    else{
        document.getElementById('M2_'+id).style.display = 'none';
        document.getElementById('F2_'+id).className = 'enroule';
    }
}
function display_3(id){
    if(document.getElementById('F3_'+id).className == 'enroule'){
        document.getElementById('M3_'+id).style.display = 'block';
        document.getElementById('F3_'+id).className = 'deroule';
    }
    else{
        document.getElementById('M3_'+id).style.display = 'none';
        document.getElementById('F3_'+id).className = 'enroule';
    }
}
/**GOOGLE MAPS**/
function initializeMaps(addr, ville, cp, pays) {
    $('#mapdiv').toggle();
    var address = addr + " "+ville +" "+ cp +" "+pays;
    var geocoder = new google.maps.Geocoder();
        var mapOptions = {
        zoom: 15
      };
    var map = new google.maps.Map(document.getElementById("maphaut"), mapOptions);
    geocoder.geocode( { 'address': address}, function(results, status) {
            if (status === google.maps.GeocoderStatus.OK) {
              map.setCenter(results[0].geometry.location);
              var marker = new google.maps.Marker({
                      map: map,
                      position: results[0].geometry.location,
              });
            } else {
              //map.setCenter(new GLatLng(48.8970578,2.3248927,17));
            }
      });
}



/**PopUp**/
function close(name, callback){
	var overlay = document.getElementById('overlay');
	overlay.style.display = "none";
	var popUp = document.getElementById(name);
	popUp.style.display = "none";
	if(callback != null){
		callback();
	}
}
		
function createPopUp(content, name, width, height, callback){
	if(!callback){
		callback = null;
	}
        
	var body = document.getElementsByTagName('body');
	body = body[0];
        
    var oldName = name;
	name = "popUp" + name; 
			
	if(!document.getElementById('overlay')){
		var overlay = document.createElement('div');
		overlay.id = 'overlay';
		body.appendChild(overlay);
	}
			
	if(!document.getElementById(name)){
		var popUp = document.createElement('div');
		if(!document.getElementById(name+'ButtonClose')){
			var buttonClose = document.createElement('div');
			buttonClose.className = 'popUpButtonClose';
			buttonClose.id = name+'ButtonClose';
			
			popUp.appendChild(buttonClose);
		}
				
		popUp.id = name;
		popUp.className = "popUp";
				
		var windowWidth = window.innerWidth;
				
		if(window.innerHeight != 'undefined'){
			var windowHeight = window.innerHeight;
		}else{
			var windowHeight = document.documentElement.clientHeight;
		}
				
		marginRight = (parseInt(windowWidth) - parseInt(width)) / 2;
		var marginTop = (parseInt(windowHeight) - parseInt(height)) / 2;

		popUp.style.position = 'fixed';
		popUp.style.top = marginTop +'px';
		popUp.style.right = marginRight +'px';
		popUp.style.width = width;
		popUp.style.height = height;
				
		var overlay = document.getElementById('overlay');
		overlay.style.display = "block";
				
		body.appendChild(popUp);
				
		document.getElementById(name).innerHTML += content;
		document.getElementById(oldName).innerHTML = "";
		
		addEvent(document.getElementById('overlay'), 'click', function(){
			close(name, callback)
		});
		
		addEvent(document.getElementById(name+'ButtonClose'), 'click', function(){
			close(name, callback);
		});
				
		addEvent(window, 'resize', function(){
			var popUps = document.getElementsByClassName('popUp');
			var widthWindow = window.innerWidth;
			if(window.innerHeight != 'undefined'){
				var heightWindow = window.innerHeight;
			}else{
				var heightWindow = document.documentElement.clientHeight;
			}

			for(i in popUps){
				if(popUps[i].style && popUps[i].style){
					var widthPopUp = parseInt(popUps[i].style.width);
					var heightPopUp = parseInt(popUps[i].style.height);
							
					heightPopUp = (parseInt(heightWindow) - heightPopUp) / 2;
					widthPopUp = (parseInt(widthWindow) - widthPopUp) / 2;
							
					if(heightPopUp < 0){
						heightPopUp = 0;
					}
							
					if(widthPopUp < 0){
						widthPopUp = 0;
					}
							
					heightPopUp += 'px';
					widthPopUp += 'px';
							
					popUps[i].style.top = heightPopUp;
					popUps[i].style.right =  widthPopUp;
				}
			}
		});
		
	}else{
		var popUp = document.getElementById(name);
		var overlay = document.getElementById('overlay');
				
		popUp.style.display = 'block';
		overlay.style.display = 'block';
	}
}


function openPop(element,largeur,hauteur){
	if(hauteur == undefined){
		hauteur = 'auto';
	}
	
	$('#'+element).dialog({
		width: largeur,
		height: hauteur,
		close: function(){
			$('#'+element).width(largeur);
			$('#'+element).height(hauteur);
		}
	});
	$('#'+element).dialog({
		autoOpen: true,
		show: {
			effect: "fade",
			duration: 300
		},
		hide: {
			effect: "fade",
			duration: 300
		}
	});
	
	$('.style_popup').dialog({
		autoOpen: false,
		modal: true,
		resizable: false
	});
}
function closePop(element){
	$('#'+element).dialog('close');
}

function openPop2(content,autoClose){
	$('html').addClass('popOpen');
	if(autoClose == undefined){
		$('#overlay_2').click(function(){
			closePop2();
		});
	}
	$('#overlay_2').show();
	$('#popup_2').html(content);
	$('#popup_2 > h2 a').click(function(){
		closePop2();
	});
	$('#popup_2').show();
}
function closePop2(popup, overlay){
	$('html').removeClass('popOpen');
	$('#overlay_2').hide();
	$('#popup_2').html('');
	$('#popup_2').hide();
}

/**PopUp**/

/** Internet Explorer**/
(function(){

	if(window.navigator.appName === "Microsoft Internet Explorer"){
		var a = document.getElementsByTagName('input');
		var length = a.length;
		for(var i=0; i < length; i++){
			if(a[i].parentNode.href){
				addEvent(a[i], 'click', function(){
					window.location.href = pointer().parentNode.href;
				});
			}
			if(a[i].getAttribute('placeholder')){
				a[i].value = a[i].getAttribute('placeholder');
				
				addEvent(a[i], 'focus', function(){
					if(pointer().getAttribute('placeholder') == pointer().value){
						pointer().value = '';
					}
				});
				
				addEvent(a[i], 'blur', function(){
					if(pointer().value == ''){
						pointer().value = pointer().getAttribute('placeholder');
					}
				});
			}
		}
	}
})()
/** Internet Explorer**/
<!--
var timeout         = 500;
var closetimer		= 0;
var ddmenuitem      = 0;

// open hidden layer
function mopen(id)
{	
	// cancel close timer
	mcancelclosetime();

	// close old layer
	if(ddmenuitem) ddmenuitem.style.visibility = 'hidden';

	// get new layer and show it
	ddmenuitem = document.getElementById(id);
	ddmenuitem.style.visibility = 'visible';

}
// close showed layer
function mclose()
{
	if(ddmenuitem) ddmenuitem.style.visibility = 'hidden';
}

// go close timer
function mclosetime()
{
	closetimer = window.setTimeout(mclose, timeout);
}

// cancel close timer
function mcancelclosetime()
{
	if(closetimer)
	{
		window.clearTimeout(closetimer);
		closetimer = null;
	}
}

// close layer when click-out
document.onclick = mclose; 
// -->

